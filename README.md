## JWT Auth service
### Endpoints

#### /access/{guid}
Данный эндпоинт выдает пару Access, Refresh токенов.
Access токен - полноценный JWT токен. Refresh токен представлен в произвольной форме в формате base64.
Пара будет выдана если юзер с id=guid по текущему IP не заходил или заходил, но refresh токен просрочен.   

#### /refresh (только с access токенов в заголовке)
Данный эндпоинт принимает "refresh" в теле и выдает пару Access, Refresh токенов с измененным Access токеном.
Пара будет выдана если access токен не заблокирован, токены-пара, оба токена валидны, не просрочены.   
Если юзер обновляет токены с другого IP, произойдет отправка сообщения по вебхуку.   
Если юзер обновляет токены с другого User-Agent, операция будет отклонена, а access токен заблокируется.    

#### /logout (только с access токенов в заголовке)
Данный эндпоит произведен logout операцию если access токен не заблокирован, если операция происходит с   
одного и того же IP и User-Agent, если все токены валидны и не просрочены.   

#### /me (только с access токенов в заголовке)
Данный эндпоинт выведен guid юзера, если токен не заблокирован, если токен валидный и не просроченный,   
если операция происходит с одного и того же IP и User-Agent.   

### Как запустить
в следующих файлах вписать необходимые параметры
```bash
    ./configs/.env
    ./configs/.docker_env
```
*при запуске создаются таблицы и первые три пользователя с id=1, id=2, id=3*

#### Через docker compose
Далее в корне проекта запустить
```bash
    docker compose --env-file=./configs/.env --env-file=./configs/.docker_env up -d
```
или
```bash
    make dockerup
```
сервис будет ожидать на localhost:${DOCKER_HOST_PORT}    
swagger - localhost:${DOCKER_HOST_PORT}/swagger/

#### В терминале
Далее в корне проекта запустить
```bash
    go run ./cmd/gojwt/main.go
```
или
```bash
    make terminalup
```
сервис будет ожидать на localhost:${PORT}    
swagger - localhost:${PORT}/swagger/